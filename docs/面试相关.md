#### 从业经历

##### 工作内容

##### 工作职责

##### 工作成果

回顾自己三年内的工作中，自己都干了那些比较重大且有意义的项目，以及在项目方案上的成果和经验，如何解决开发中所面临的技术问题等等

+ 场景类消息投递（常规/高峰）
+ 会员一体化接口（基于图模式执行）
+ 携程房源接入
+ 分销房源点评回流
+ 折叠点评需求
+ 产品库存系统重构（切面重构，遇见的事务问题）
+ PMS登录（采用配置化的方式，无需代码变动）
+ 接口共享限流问题
+ 高峰运营的任务分发模型
+ 会员中心查询后台（web）
+ 产品中心后台（web）
+ 预热方案（spring结合，泛型化方法方案的支持）

#### Java面试可能遇见的那个它

##### Java核心技术

+ 一个空对象多大内存？
  > 在hotspot虚拟的实现里一个对象对应内存布局采用OOP结构，主要有三个部分：对象头、实例数据、对齐填充。而对象头又包括三部分：对象头（MarkWord）、类（元数据）指针、数组长度！
  > + 对象头：用于存储对象运行时的数据，好比 HashCode、锁状态标志、GC分代年龄等，在64位操作系统中占用 __8个字节__，32位中占用 __4个字节__
  > + 指针：用来指向当前实例所归属的类实例指针，这里会涉及对指针的压缩处理，在开启指针压缩的状况下占 __4个字节__，未开启状况下占 __8个字节__
  > + 数组长度：这部分只有是数组对象才有，这部分占 __4个字节__
  >
  > 所谓的对齐填充，就是Java 对象的大小默认都是按照 __8个字节__ 对齐，也就是说Java对象的大小必须是 __8个字节__ 的倍数。若是算到最后不够 __8个字节__ 的话，那么就会进行对齐填充！
  > 为啥非要进行 __8个字节__ 填充处理？看起来是对空间的一种浪费！这么做的原因是由于 CPU 进行内存访问时，一次寻址的指针大小是 __8个字节__，正好也是 L1 缓存行的大小。
  > 如果不进行内存对齐，则可能出现跨缓存行的情况，进而造成`缓存行污染`。 所以很容易就能算出来一个空对象所占用的内存大小正好就是 __16个字节__。


+ 为什么需要包装类型？int与Integer的区别？
  > + __原因：__
      因为Java本身就是一门面向对象的语言，对象是Java的基础操作单元。很多时候传递数据也需要对象类型，比如`ArrayList`、
      `HashMap`这些集合，只能存储对象类型，因此封装类型存在的意义就很大。封装类型还有很多好处，比如安全性较好，
      可以避免外部操作随意修改成员变量的值，保证了成员变量和数据传递的安全性！
  > + __区别：__
  >  + Integer的初始值是`null`，int的初始值是0;
  >  + Integer存储在堆内存中，int直接存储在栈空间；
  >  + Integer是对象类型，它封装了很多方法和属性。

+ “==” 和 “equals()” 有什么区别，为什么重写“equals()”时也要重写“hashcode()”方法？
  > 首先这两个比较操作存在着本质上的区别，“==” 判断的时引用地址（内存地址）的一致性，但是 “equals” 更偏向于判断对象的数据信息一致性，
  > 而且 “equals” 方法的第一行代码优先采用 “==” 作为判断！有些时候我们会重写 “equals” 方法来个性化判断对象是否相等，在这个重写的过程中，
  > 我们都知道也需要重写 “hashcode” 方法，可是为什么呢？原因是 `hashcode` 会被用来在集合类中查找定位元素，
  > 然而在jdk中默认通过随机数算法来生成 `hashcode`，势必会导致两个不同的对象可能会存在相同的 `hashcode`。
  > 假如仅重写了 “equals“ 而不重写 “hashcode“ 方法，就会造成集合类在存储和查找元素时，完全相同的对象因为 `hashcode` 被存储在了两个不同位置。
  > 这与事实是相违背的，所以提倡 “equals“ 与 ”hashcode“ 一起进行重写，这里也可以得到一个结论：两个完全相同的对象，它们的 `hashcode` 一定相同！

+ 关于HashMap如何解决hash冲突、如何进行内存扩容，底层数据结构的优缺点问题？

  >

+ ConcurrentHashMap实现原理，它与HashMap有啥区别和不同？
+ ArrayList是如何实现自动扩容的？
+ CopyOnWriteArrayList是如何实现的，与ArrayList的区别？
+ AtomicInteger高并发下的性能问题？
  > 因为多线程同时进行数据修改，底层通过unsafe的CAS机制实现，会造成频繁的空循环问题，使用不当会造成cpu飙升！
  > 可以考虑通过`LongAddr`来避免，在`LongAddr`内部维护了一个数组，当出现并发操作进行多次修改后，
  > 会为每个线程分配一个单独的`AtomicLong`进行修改操作，避免了多个线程操作同一个值造成的性能问题（空循环）！

+ ThreadLocal的使用及原理，内存泄露的原因？
+ ThreadPoolExecutor的执行过程及原理？
+ 为什么不建议通过Executors创建线程池，如何定制线程池参数？
+ ForkJoinPool如何工作的，特点是啥？
+ ThreadPoolExecutor和ForkJoinPool的区别是啥，为什么要设计他们？
+ 同步队列有几种？各有什么特点，使用场景有那些？
+ 你是如何看待指令重排序问题的？
+ Lock的使用问题？
+ 为什么会出现AQS，AQS的实现机制是怎样的，通过它可以干什么？
+ 什么条件下会产生死锁，如何避免死锁？
+ Synchronize如何实现的，它和Lock的区别是什么？

  > Synchronize是通过jvm指令进行实现的，处于Synchronize中的代码块，在进行字节码转换的时会在代码块执行前后
  > 加入`monitorenter`，`monitorexit`指令。

+ 使用过JUC包下的那些类，工作中用它都做了什么？
+ 你怎么看待lambda表达式，JDK内部如何是如何进行实现的？
+ 实现动态代理的几种方式，如何看待动态代理？

  > 在java中实现动态代理有两种方式：1）JDK的动态代理，通过接口进行代理。2）javassist动态代理，通过继承的方式进行代理，
  > 无法实现`final`类的代理。动态代理的目的是实现类的增强机制，让我们可以在使用类之前对其增强发挥更加强大的作用。

+ Java中的IO类型有那些？nio又是如何进行实现的？
+ 为什么要设计封装类？Integer和int有啥区别？
+ lombok是如何工作的？
+ 零拷贝是什么？如何实现它？有点是什么？

##### JVM调优技术

##### 数据库技术

+ sql的执行过程及步骤？
+ mysql中的BufferPool机制？
+ mysql支持的索引类型有哪些？它们各自有什么特点
+ B树和B+树？
+ 索引类型有哪些，如何建立索引？
+ mysql的锁类型及特点和场景？
+ mysql的MVCC机制原理？
+ 执行计划（explain）的内容都有什么？
+ 为什么需要进行分库分表？工作中如何实现分库分表？
+ 如何对一条SQL进行优化，优化的方式有那些？

##### 缓存技术

##### tomcat技术

+ 如何实现Servlet？
+ 如何看待jsp技术？
+ 核心组件有哪些，都有什么作用？

##### dubbo技术栈

+ 什么是rpc？特点是什么？
+ dubbo的启动过程是怎样的？
+ 如何看待Exchanger、Transporter、Exporter、Protocol等各个核心组件的关系？
+ dubbo如何解析xsd文件？如何实现与Spring进行关联整合？
+ dubbo与SpringCloud的区别？既有dubbo为啥会出现SpringCloud？
+ SPI机制了解吗？dubbo的SPI实现是怎样的，与JDK和Spring的有什么不同？
+ SPI所识别的目录有那些？
+ dubbo协议如何实现的？
+ dubbo服务暴露的原理与过程？

##### Spring技术栈

+ 如何看待和理解IOC和DI？
+ Spring容器的启动、加载过程？
+ Spring Bean实例化及依赖注入的过程，如何解决循环依赖问题？
+ Spring扩展机制？Spring的SPI如何实现的？

##### mybatis技术栈

+ #{}和${}的区别？
+ 缓存机制的理解？

  > 缓存分两类：1）一级缓存，SqlSession级别的本地缓存；2）二级缓存，基于memcached、EHCache等实现，
  > 有点是解决了Session之间的缓存共享问题！

+ mapper加载的过程？
+ 如何实现分页？
+

##### rocketmq技术栈

+ 为什么需要消息队列？它能解决什么问题？

  > 因为消息队列能帮我们三个核心：异步、解耦、削峰！

+ 消息重复消费会存在什么问题？如何解决消息幂性？

##### xxl-job相关

##### 设计模式

##### netty（会问吗？）

+ Reactor模型有哪些，各有什么特点？
+ InternalThreadLocalMap如何实现的？与ThreadLocalMap有什么不同？
+ 关于BossEventLoopGroup和WorkerEventLoopGroup的理解？
+ 对ChannelInboundHandler和ChannelOutboundHandler的理解？

  > 都是继承自ChannelHandler接口，Inbound用于从Channel读取数据，Outbound用于向Channel写数据，各自的职责不同！

##### 扩展及发散性问题

+ 如何设计一个秒杀功能？
+ 签到功能如何进行实现？
+ 如何设计一个RPC框架？
+ 消息队列如何实现？
+ 怎么看待clickhouse与elasticsearch？
+ serverless是什么？
+ 云原生是怎样的？
+ 了解过go吗？
+ jdk8之后都有那些新特性？